(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{117:function(n,t,e){},12:function(n,t){n.exports={COMMUNITY_CHAT:"COMMUNITY_CHAT",USER_CONNECTED:"USER_CONNECTED",MESSAGE_RECIEVED:"MESSAGE_RECIEVED",MESSAGE_SENT:"MESSAGE_SENT",USER_DISCONNECTED:"USER_DISCONNECTED",TYPING:"TYPING",VERIFY_USER:"VERIFY_USER",LOGOUT:"LOGOUT"}},141:function(n,t){},150:function(n,t,e){"use strict";e.r(t);var a={};e.r(a),e.d(a,"ADD_MY_TASK",function(){return T}),e.d(a,"GET_INFO",function(){return S}),e.d(a,"GET_TASK_AREA",function(){return D}),e.d(a,"CLOSE_TASK_AREA",function(){return j}),e.d(a,"TO_DO_WORK",function(){return U}),e.d(a,"START_CHAT",function(){return N}),e.d(a,"QUIT_CHAT",function(){return W});var r={};e.r(r),e.d(r,"getTaskArea",function(){return I}),e.d(r,"startChat",function(){return B}),e.d(r,"quitChat",function(){return Q}),e.d(r,"closeTask",function(){return M}),e.d(r,"getMyTask",function(){return F}),e.d(r,"getInfoWish",function(){return J}),e.d(r,"toWork",function(){return G});var i={};e.r(i),e.d(i,"login",function(){return qn}),e.d(i,"myWish",function(){return Kn});var o=e(0),c=e.n(o),s=e(17),u=e.n(s),l=e(5),d=e(6),p=e(8),h=e(7),g=e(9),f=e(152),m=e(153),b=e(2),A=e(3);function k(){var n=Object(b.a)(["\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n\tvertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}\n "]);return k=function(){return n},n}Object(A.a)(k());var v=e(14),E=e(31),C=e(151),O=e(11),y=Object(O.fromJS)({kingWork:!0,angelWork:!0,nowWork:"",showTask:!1,king:{name:"",wish:""},photo:"",angelWish:"",comeChat:!1}),x=e(16),w=e.n(x),T="home/ADD_MY_TASK",S="home/GET_INFO",D="home/GET_TASK_AREA",j="home/CLOSE_TASK_AREA",U="home/TO_DO_WORK",N="home/START_CHAT",W="home/QUIT_CHAT",I=function(n){return{type:D,showTask:!0,role:n}},B=function(){return{type:N}},Q=function(){return{type:W}},M=function(){return{type:j,showTask:!1}},F=function(){return function(n){w.a.get("http://47.93.63.56:8080/api/task/task").then(function(t){var e=t.data;e.status&&n(function(n){return{type:T,kingWork:n.kingWork,angelWork:n.angelWork}}(e))})}},J=function(){return function(n){w.a.get("http://47.93.63.56:8080/api/user/wish").then(function(t){var e=t.data;e.status&&n(function(n){return{type:S,result:n}}(e.data))})}},G=function(n){return function(t){w.a.post("http://47.93.63.56:8080/api/task/task",{role:n}).then(function(e){e.data.status&&t(function(n){return{type:U,role:n}}(n))})}},H=e(32),R=e(33),q=e(72),K=e.n(q),L=(e(117),{alertStatus:!1,alertTip:"\u63d0\u793a",closeAlert:function(){}}),z=function(n){function t(){var n,e;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=Object(p.a)(this,(n=Object(h.a)(t)).call.apply(n,[this].concat(r)))).state=Object(R.a)({},L),e.FirstChild=function(n){return c.a.Children.toArray(n.children)[0]||null},e.confirm=function(){e.setState({alertStatus:!1}),e.state.closeAlert()},e.open=function(n){(n=n||{}).alertStatus=!0,e.setState(Object(R.a)({},L,n))},e}return Object(g.a)(t,n),Object(d.a)(t,[{key:"close",value:function(){this.state.closeAlert(),this.setState(Object(R.a)({},L))}},{key:"shouldComponentUpdate",value:function(n,t){return!Object(O.is)(Object(O.fromJS)(this.props),Object(O.fromJS)(n))||!Object(O.is)(Object(O.fromJS)(this.state),Object(O.fromJS)(t))}},{key:"render",value:function(){return c.a.createElement(K.a,{component:this.FirstChild,transitionName:"hide",transitionEnterTimeout:300,transitionLeaveTimeout:300},c.a.createElement("div",{className:"alert-con",style:this.state.alertStatus?{display:"block"}:{display:"none"}},c.a.createElement("div",{className:"alert-context"},c.a.createElement("div",{className:"alert-content-detail"},this.state.alertTip),c.a.createElement("div",{className:"comfirm",onClick:this.confirm},"\u786e\u8ba4"))))}}]),t}(o.Component),Y=document.createElement("div");document.body.appendChild(Y);var V=u.a.render(c.a.createElement(z,{}),Y),P=e(73),X=e.n(P),Z=e(12);function _(){var n=Object(b.a)(["\n    position: fixed;\n    height: 40px;\n    width: 20%;\n    background: #006699;\n    margin: 0;\n    border: 2px solid #006699;\n    border-radius: 50px;\n    bottom: 5px;\n    right: 10px;\n"]);return _=function(){return n},n}function $(){var n=Object(b.a)(["\n    position: fixed;\n    bottom: 5px;\n    height: 36px;\n    width: 70%;\n    padding-left: 10px;\n    outline: none;\n    line-height: 35px;\n    font-size: 17px;\n    background: #C8C8C8;\n    border-radius: 50px;\n    border: 1px solid #cac8ee;\n    align-left: 55px;\n    maxlenght: 10;\n    overflow: hidden;\n    color: #666666;\n    border: 0;\n    margin: 0;\n"]);return $=function(){return n},n}function nn(){var n=Object(b.a)(["\n    position: fixed;\n    right: 0;\n    height: 100%;\n    width: 100%;\n    border: 0;\n    marigin: 0;\n    background: #A8A8A8;\n"]);return nn=function(){return n},n}function tn(){var n=Object(b.a)(["\n    top: 0;\n    left: 0;\n    height: 40px;\n    width: 100%;\n    font-size: 0;\n    background-color:  whitesmoke;\n    z-index: 1;\n    .back{\n        height: 40px;\n        width: auto;\n    }\n"]);return tn=function(){return n},n}function en(){var n=Object(b.a)(["\n    top: 0;\n    left: 0;\n    width: 100%;\n    overflow: hidden;\n    .chat-bottom {\n      position: fixed;\n      bottom: 0;\n    }\n"]);return en=function(){return n},n}function an(){var n=Object(b.a)(["\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 20px;\n    height: 20px;\n    background: #FF3366;\n"]);return an=function(){return n},n}function rn(){var n=Object(b.a)(["\n    width: 100px;\n    height: 35px;\n    line-height: 35px;\n    text-align: center;\n    boder-width: 0px;\n    border-radius: 3px;\n    background: #1F90FF;\n    color: white;\n    margin: 80px auto 0;\n    bottom: 0;\n"]);return rn=function(){return n},n}function on(){var n=Object(b.a)(["\n    overflow: hidden;\n    position: absolute;\n    width: 76%;\n    height: 46%;\n    margin: 60px 40px;\n    background: #FFFF33;\n    .day-work {\n        width: auto;\n        margin: 0 auto;\n        font-size: 30px;\n        text-align: center;\n        border: 0;\n        left: 0;\n    };\n    .top-info {\n        text-align: center;\n    };\n    .down-info {\n        width: auto\n        overflow: hidden;\n        margin: 20px auto 0; \n        white-space:nowrap; \n        word-break:keep-all;\n    }\n"]);return on=function(){return n},n}function cn(){var n=Object(b.a)(["\n    overflow: hidden;\n    z-index: 1;\n    position: absolute;\n    width: 100%;\n    height: 530px;\n"]);return cn=function(){return n},n}function sn(){var n=Object(b.a)(['\n    width: 88px;\n    height: 36px;\n    margin: 20px auto;\n    text-align: center;\n    line-height: 36px;\n    background: #0483D9;\n    border-radius: 5em;\n    font-weight: 360;\n    border: 2px solid #0483D9;\n    transition: all 0.2s;\n    position: relative;\n    font-family: "HelveticaNeue-Bold", "Helvetica Neue Bold", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;\n    text-decoration: none;\n    color: white;\n    border: 2px solid #0483D9;\n    &:hover {\n        background: #0483D9;\n    }\n']);return sn=function(){return n},n}function un(){var n=Object(b.a)(['\n    width: 88px;\n    height: 36px;\n    margin: 20px auto 0; \n    text-align: center;\n    line-height: 36px;\n    background: #0483D9;\n    border-radius: 5em;\n    font-weight: 360;\n    border: 2px solid #0483D9;\n    transition: all 0.2s;\n    position: relative;\n    font-family: "HelveticaNeue-Bold", "Helvetica Neue Bold", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;\n    text-decoration: none;\n    color: white;\n    border: 2px solid #0483D9;\n    &:hover {\n        background: #0483D9;\n    }\n']);return un=function(){return n},n}function ln(){var n=Object(b.a)(["\n    font-size: 20px;\n    float: left;\n    width: 230px;\n    height: 90px;\n    margin: 0 auto;\n"]);return ln=function(){return n},n}function dn(){var n=Object(b.a)(["\n    float: right;\n    width: 145px;\n    height: 60px;\n    text-align: center;\n    line-height: 60px;\n    font-size: 40px;\n    margin: 0 auto;\n"]);return dn=function(){return n},n}function pn(){var n=Object(b.a)(["\n    width: 230px;\n    height: 180px;\n    background: #FFDDAA;\n    margin: 0 auto;\n    .role {\n        font-family: Microsoft YaHei;\n        font-size: 17px;\n    }\n    .wish{\n        margin : 50px 0;\n    }\n"]);return pn=function(){return n},n}function hn(){var n=Object(b.a)(["\n    width: 100px;\n    height: 100px;\n    background-repeat:no-repeat; \n    background-size:100% 100%;\n    -moz-background-size:100% 100%;\n    border-radius: 50%;\n    -moz-border-radius: 50%;      \n    -webkit-border-radius: 50%; \n    margin: 30px auto 10px;\n"]);return hn=function(){return n},n}function gn(){var n=Object(b.a)(["\n    height: 100%;\n    overflow: hidden;\n    width:  100%;\n"]);return gn=function(){return n},n}function fn(){var n=Object(b.a)(["\n    height: 500px;\n    overflow: hidden;\n    width:  100%;\n    margin: 0 auto;\n    background: #AAAAAA;\n"]);return fn=function(){return n},n}function mn(){var n=Object(b.a)(["\n    height: 500px;\n    overflow: hidden;\n    width:  100%;\n    margin: 0 auto;\n    background: #AAAAAA;\n"]);return mn=function(){return n},n}var bn=A.b.div(mn()),An=A.b.div(fn()),kn=(A.b.div(gn()),A.b.div(hn())),vn=A.b.div(pn()),En=A.b.div(dn()),Cn=A.b.div(ln()),On=A.b.div(un()),yn=A.b.div(sn()),xn=A.b.div(cn()),wn=A.b.div(on()),Tn=A.b.div(rn()),Sn=A.b.div(an()),Dn=(A.b.div(en()),A.b.div(tn())),jn=(A.b.div(nn()),A.b.input($()),A.b.button(_()),e(74)),Un=e.n(jn),Nn=function(n){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,n),Object(d.a)(t,[{key:"render",value:function(){var n=this;return c.a.createElement(Dn,null,c.a.createElement("img",{onClick:function(){return n.props.quitChat()},className:"back",src:Un.a,alt:""}))}}]),t}(o.Component),Wn=Object(v.b)(function(n){return{}},function(n){return{quitChat:function(){n(r.quitChat())}}})(Nn),In=e(24),Bn=(e(67),function(n){function t(n){var e;return Object(l.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this,n))).scrollDown=e.scrollDown.bind(Object(In.a)(Object(In.a)(e))),e}return Object(g.a)(t,n),Object(d.a)(t,[{key:"scrollDown",value:function(){var n=this.refs.container;n.scrollTop=n.scrollHeight}},{key:"componentDidMount",value:function(){this.scrollDown()}},{key:"componentDidUpdate",value:function(n,t){this.scrollDown()}},{key:"render",value:function(){var n=this.props,t=n.messages,e=n.user,a=n.typingUsers;return c.a.createElement("div",{ref:"container",className:"thread-container"},c.a.createElement("div",{className:"thread"},t.map(function(n){return c.a.createElement("div",{key:n.id,className:"message-container ".concat(n.sender===e.name&&"right")},c.a.createElement("div",{className:"time"},n.time),c.a.createElement("div",{className:"data"},c.a.createElement("div",{className:"message"},n.message)))}),a.map(function(n){return c.a.createElement("div",{key:n,className:"typing-user"},"".concat(n," is typing . . ."))})))}}]),t}(o.Component)),Qn=function(n){function t(n){var e;return Object(l.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this,n))).handleSubmit=function(n){n.preventDefault(),e.sendMessage(),e.setState({message:""})},e.sendMessage=function(){e.props.sendMessage(e.state.message)},e.sendTyping=function(){e.lastUpdateTime=Date.now(),e.state.isTyping||(e.setState({isTyping:!0}),e.props.sendTyping(!0),e.startCheckingTyping())},e.startCheckingTyping=function(){console.log("Typing"),e.typingInterval=setInterval(function(){Date.now()-e.lastUpdateTime>300&&(e.setState({isTyping:!1}),e.stopCheckingTyping())},300)},e.stopCheckingTyping=function(){console.log("Stop Typing"),e.typingInterval&&(clearInterval(e.typingInterval),e.props.sendTyping(!1))},e.state={message:"",isTyping:!1},e}return Object(g.a)(t,n),Object(d.a)(t,[{key:"componentWillUnmount",value:function(){this.stopCheckingTyping()}},{key:"render",value:function(){var n=this,t=this.state.message;return c.a.createElement("div",{className:"message-input"},c.a.createElement("form",{onSubmit:this.handleSubmit,className:"message-form"},c.a.createElement("input",{id:"message",ref:"messageinput",type:"text",className:"form-control",value:t,autoComplete:"off",placeholder:"\u968f\u4fbf\u804a\u804a",onKeyUp:function(t){13!==t.keyCode&&n.sendTyping()},onChange:function(t){var e=t.target;n.setState({message:e.value})}}),c.a.createElement("button",{disabled:t.length<1,type:"submit",className:"send"}," Send ")))}}]),t}(o.Component),Mn=function(n){function t(n){var e;return Object(l.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this,n))).resetChat=function(n){return e.addChat(n,!0)},e.addChat=function(n,t){var a=e.props.socket,r=e.state.chats,i=t?[n]:Object(E.a)(r).concat([n]);e.setState({chats:i,activeChat:t?n:e.state.activeChat});var o="".concat(Z.MESSAGE_RECIEVED,"-").concat(n.id),c="".concat(Z.TYPING,"-").concat(n.id);a.on(c,e.updateTypingInChat(n.id)),a.on(o,e.addMessageToChat(n.id))},e.addMessageToChat=function(n){return function(t){var a=e.state.chats.map(function(e){return e.id===n&&e.messages.push(t),e});e.setState({chats:a})}},e.updateTypingInChat=function(n){return function(t){var a=t.isTyping,r=t.user;if(r!==e.props.user.name){var i=e.state.chats.map(function(t){return t.id===n&&(a&&!t.typingUsers.includes(r)?t.typingUsers.push(r):!a&&t.typingUsers.includes(r)&&(t.typingUsers=t.typingUsers.filter(function(n){return n!==r}))),t});e.setState({chats:i})}}},e.sendTyping=function(n,t){e.props.socket.emit(Z.TYPING,{chatId:n,isTyping:t})},e.setActiveChat=function(n){e.setState({activeChat:n})},e.sendMessage=function(n,t){e.props.socket.emit(Z.MESSAGE_SENT,{chatId:n,message:t})},e.state={chats:[],activeChat:null},e}return Object(g.a)(t,n),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.socket.emit(Z.COMMUNITY_CHAT,this.resetChat)}},{key:"render",value:function(){var n=this,t=this.props.user,e=this.state.activeChat;return c.a.createElement("div",null,null!==e?c.a.createElement("div",null,c.a.createElement(Wn,{name:e.name}),c.a.createElement(Bn,{messages:e.messages,user:t,typingUsers:e.typingUsers}),c.a.createElement(Qn,{sendMessage:function(t){n.sendMessage(e.id,t)},sendTyping:function(t){n.sendTyping(e.id,t)}})):c.a.createElement("div",null,"nothing hhh"))}}]),t}(o.Component),Fn=Object(v.b)(function(n){return{}},function(n){return{quitChat:function(){}}})(Mn),Jn="http://47.93.63.56:3231",Gn=function(n){function t(n){var e;return Object(l.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this,n))).initSocket=function(){var n=X()(Jn);n.on("connect",function(){console.log("Connected")}),e.setState({socket:n})},e.setUser=function(n){var t=n.user;e.setState({user:t})},e.resetChat=function(n){return e.addChat(n,!0)},e.addChat=function(n,t){var a=e.state,r=a.chats,i=a.socket,o=t?[n]:Object(E.a)(r).concat([n]);e.setState({chats:o,activeChat:t?n:e.state.activeChat});var c="".concat(Z.MESSAGE_RECIEVED,"-").concat(n.id),s="".concat(Z.TYPING,"-").concat(n.id);i.on(s,e.updateTypingInChat(n.id)),i.on(c,e.addMessageToChat(n.id))},e.addMessageToChat=function(n){return function(t){var a=e.state.chats.map(function(e){return e.id===n&&e.messages.push(t),e});e.setState({chats:a})}},e.updateTypingInChat=function(n){return function(t){var a=t.isTyping,r=t.user;if(r!==e.state.user.name){var i=e.state.chats.map(function(t){return t.id===n&&(a&&!t.typingUsers.includes(r)?t.typingUsers.push(r):!a&&t.typingUsers.includes(r)&&(t.typingUsers=t.typingUsers.filter(function(n){return n!==r}))),t});e.setState({chats:i})}}},e.sendMessage=function(n,t){e.state.socket.emit(Z.MESSAGE_SENT,{chatId:n,message:t})},e.sendTyping=function(n,t){e.state.socket.emit(Z.TYPING,{chatId:n,isTyping:t})},e.setActiveChat=function(n){e.setState({activeChat:n})},e.state={socket:null,user:{},chats:[],activeChat:null},e}return Object(g.a)(t,n),Object(d.a)(t,[{key:"componentWillMount",value:function(){this.initSocket()}},{key:"getTaskArea",value:function(n,t){var e=this;if(n){if("king"===t)return c.a.createElement(xn,{style:{display:n?"":"none"}},c.a.createElement(wn,null,c.a.createElement("div",{className:"day-work"},"\u6bcf\u65e5\u4efb\u52a1"),c.a.createElement("div",{className:"top-info"},"\u548c\u4f60\u7684\u56fd\u738b\u6109\u5feb\u5730\u804a\u804a\u5427!"),c.a.createElement(Sn,{onClick:function(){return e.props.closeTask()}}),c.a.createElement(Tn,{onClick:function(){return e.props.toDoWork(t,e.props.kingWork)},style:this.props.kingWork?{}:{background:"#C0C0C0"}},"\u6211\u8981\u82f9\u679c"),c.a.createElement("div",{className:"down-info"},"\uff08\u6536\u96c6\u82f9\u679c\uff0c\u4f1a\u5728us\u91cc\u53d1\u751f\u795e\u5947\u7684\u4e8b\u54e6\uff09")));if("angel"===t)return c.a.createElement(xn,{style:{display:n?"":"none"}},c.a.createElement(wn,null,c.a.createElement("div",{className:"day-work"},"Ta\u7684\u4efb\u52a1"),c.a.createElement("div",{className:"top-info"},"\u548c\u4f60\u7684\u5929\u4f7f\u6109\u5feb\u5730\u804a\u804a\u5427!"),c.a.createElement(Sn,{onClick:function(){return e.props.closeTask()}}),c.a.createElement(Tn,{onClick:function(){return e.props.toDoWork(t,e.props.angelWork)},style:this.props.angelWork?{}:{background:"#C0C0C0"}},"\u7ed9\u4ed6\u82f9\u679c"),c.a.createElement("div",{className:"down-info"},"\uff08\u6536\u96c6\u82f9\u679c\uff0c\u4f1a\u5728us\u91cc\u53d1\u751f\u795e\u5947\u7684\u4e8b\u54e6\uff09")))}}},{key:"render",value:function(){var n=this,t=this.props,e=t.token,a=t.comeChat,r=t.kingUuid,i=t.startChat,o=t.showTask,s=t.getTaskArea,u=t.king,l=t.photo,d=t.angelWish,p=t.nowWork;return""===e?c.a.createElement(C.a,{to:"/login"}):a?c.a.createElement(Fn,{socket:this.state.socket,user:this.state.user}):c.a.createElement("div",null,this.getTaskArea(o,p),c.a.createElement(H.c,{flipOnHover:!1,flipOnClick:!o,flipDirection:"horizontal",ref:function(t){return n.flippy=t}},c.a.createElement(H.b,null,c.a.createElement(bn,null,c.a.createElement(kn,{style:{backgroundImage:"url("+l+")"}}),c.a.createElement(vn,null,c.a.createElement("div",{className:"role"},"\u6211\u7684\u56fd\u738b\uff1a",c.a.createElement(En,null,u.name)),c.a.createElement("div",{className:"wish"},"ta\u7684\u5fc3\u613f:",c.a.createElement(Cn,null,u.wish?u.wish:"ta\u8fd8\u672a\u586b\u5199"),"                    ")),c.a.createElement(On,{onClick:function(n){return s(n,"king")}},"\u6bcf\u65e5\u4efb\u52a1"),c.a.createElement(yn,{style:r?{}:{background:"#C0C0C0"},onClick:function(n){return i(n)}},"\u804a\u4e00\u804a"))),c.a.createElement(H.a,null,c.a.createElement(An,null,c.a.createElement(kn,{style:{backgroundImage:"url("+l+")"}}),c.a.createElement(vn,null,c.a.createElement("div",{className:"role"},"\u6211\u7684\u5c0f\u5929\u4f7f\uff1a"),c.a.createElement("div",{className:"wish"},"ta\u7684\u5fc3\u613f:",c.a.createElement(Cn,null,d||"ta\u8fd8\u672a\u586b\u5199"),"                    ")),c.a.createElement(On,{onClick:function(n){return s(n,"angel")}},"Ta\u7684\u4efb\u52a1"),c.a.createElement(yn,{onClick:function(n){return i(n)}},"\u804a\u4e00\u804a")))))}},{key:"componentDidMount",value:function(){this.props.getInfoWish(),this.props.getMyTask(),this.state.socket.emit(Z.USER_CONNECTED,this.props.myUuid,this.setUser),this.state.socket.emit(Z.COMMUNITY_CHAT,this.resetChat)}}]),t}(o.PureComponent),Hn=Object(v.b)(function(n){return{token:n.getIn(["login","token"]),myUuid:n.getIn(["login","myUuid"]),kingUuid:n.getIn(["login","kingUuid"]),angelUuid:n.getIn(["login","angelUuid"]),showTask:n.getIn(["home","showTask"]),king:n.getIn(["home","king"]),photo:n.getIn(["home","photo"]),angelWish:n.getIn(["home","angelWish"]),kingWork:n.getIn(["home","kingWork"]),angelWork:n.getIn(["home","angelWork"]),nowWork:n.getIn(["home","nowWork"]),comeChat:n.getIn(["home","comeChat"])}},function(n){return{getMyTask:function(){n(r.getMyTask())},getTaskArea:function(t,e){t.stopPropagation(),n(r.getTaskArea(e))},getInfoWish:function(){n(r.getInfoWish())},closeTask:function(){n(r.closeTask())},toDoWork:function(t,e){e?n(r.toWork(t)):"king"===t?V.open({alertTip:"\u4e00\u5929\u53ea\u80fd\u8bf7\u6c42\u4e00\u6b21\u54e6"}):"angel"===t&&V.open({alertTip:"\u4f60\u7684\u5c0f\u5929\u4f7f\u5728\u98de\u6765\u7684\u8def\u4e0a"})},startChat:function(t){t.stopPropagation(),n(r.startChat())}}})(Gn),Rn=Object(O.fromJS)({isWish:!1,token:"",kingUuid:"",angelUuid:"",myUuid:""}),qn=function(n,t){return function(e){w.a.post("http://47.93.63.56:8080/api/user/token",{user_id:n,password:t}).then(function(n){var t=n.data;t.status?(w.a.defaults.headers.common.Authorization=t.token,e(function(n){return{type:"login/GET_TOKEN",isWish:!!n.wish,token:n.token,kingUuid:n.kingUuid,angelUuid:n.angelUuid,myUuid:n.myUuid}}(t))):V.open({alertTip:t.msg})})}},Kn=function(n){return function(t){w.a.post("http://47.93.63.56:8080/api/user/wish",{wish:n}).then(function(n){var e=n.data;e.status?t({type:"login/FINISH_WRITE",isWish:!0}):V.open({alertTip:e.msg})})}};function Ln(){var n=Object(b.a)(["\n    display: block;\n    width: 180px;\n    height: 45px;\n    margin: 10px auto;\n    background: linear-gradient(to bottom, #4eb5e5 0%,#389ed5 100%); /* W3C */\n    border: none;\n    border-radius: 5px;\n    border-bottom: 4px solid #2b8bc6;\n    color: #fbfbfb;\n    font-weight: 600;\n    font-family: 'Open Sans', sans-serif;\n    text-shadow: 1px 1px 1px rgba(0,0,0,.4);\n    font-size: 15px;\n    text-align: left;\n    text-indent: 5px;\n    box-shadow: 0px 3px 0px 0px rgba(0,0,0,.2);\n    cursor: pointer;\n    text-align: center;\n  \n    \n"]);return Ln=function(){return n},n}function zn(){var n=Object(b.a)(["\n    display: block;\n    height: 200px;\n    width: 78%;\n    margin: 30px auto;\n    border-color: red;\n  \tbackground-color:transparent;\n    color: black;\n    font-size: 20px;\n    font-family: Microsoft YaHei;\n    :focus {\n        border-style:solid;\n        border-color: #03a9f4;\n\t    box-shadow: 0 0 15px #03a9f4;\n    }\n"]);return zn=function(){return n},n}function Yn(){var n=Object(b.a)(["\n    display: block;\n    width: 180px;\n    height: 45px;\n    boder-width: 0px;\n    border-radius: 3px;\n    background: #1F90FF;\n    outline: none;\n    font-family: Microsoft YaHei;\n    color: white;\n    font-size: 17px;\n    margin: 10px auto;\n    text-align: center;\n"]);return Yn=function(){return n},n}function Vn(){var n=Object(b.a)(["\n    display: block;\n    padding: 7px 0px;\n    border-radius: 3px;\n    padding-left: 5px;\n    height: 35px;\n    width: 80%;\n    margin: 20px auto 40px;\n    text-align: center;\n    font-size: 20px;\n    font-family: Microsoft YaHei;\n    :focus {\n        border-style:solid;\n        border-color: #03a9f4;\n\t    box-shadow: 0 0 15px #03a9f4;\n    }\n"]);return Vn=function(){return n},n}function Pn(){var n=Object(b.a)(["\n    height: 250px;\n    width:  100%;\n    margin: 0 auto;\n\tpadding-top: 20px\n"]);return Pn=function(){return n},n}function Xn(){var n=Object(b.a)(["\n    width: 220px;\n    height: 150px;\n    margin: 50px auto 0;\n    background: #ffffdd;\n    border:1px solid #e3e197;\n"]);return Xn=function(){return n},n}var Zn=A.b.div(Xn()),_n=A.b.div(Pn()),$n=A.b.input(Vn()),nt=A.b.button(Yn()),tt=A.b.textarea(zn()),et=A.b.button(Ln()),at=function(n){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,n),Object(d.a)(t,[{key:"render",value:function(){var n=this;return this.props.isWish?c.a.createElement(C.a,{to:"/"}):c.a.createElement("div",null,c.a.createElement(tt,{placeholder:"\u5199\u5fc3\u613f",type:"text",ref:function(t){n.wish=t}}),c.a.createElement(et,{onClick:function(){return n.props.myWish(n.wish)}},"NEXT"))}}]),t}(o.PureComponent),rt=Object(v.b)(function(n){return{isWish:n.getIn(["login","isWish"])}},function(n){return{myWish:function(t){n(i.myWish(t.value))},getMyWish:function(){n(i.getMyWish())}}})(at),it=function(n){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,n),Object(d.a)(t,[{key:"render",value:function(){var n=this;return""===this.props.token?c.a.createElement("div",null,c.a.createElement(Zn,null),c.a.createElement(_n,null,c.a.createElement($n,{placeholder:"\u8d26\u53f7",ref:function(t){n.account=t}}),c.a.createElement($n,{placeholder:"\u5bc6\u7801",ref:function(t){n.password=t},type:"password"}),c.a.createElement(nt,{onClick:function(){return n.props.login(n.account,n.password)}},"Start"))):c.a.createElement("div",null,c.a.createElement(Zn,null),c.a.createElement(rt,null))}}]),t}(o.PureComponent),ot=Object(v.b)(function(n){return{token:n.getIn(["login","token"])}},function(n){return{login:function(t,e){n(i.login(t.value,e.value))}}})(it),ct=e(21),st=e(75),ut=e(76),lt=Object(ut.combineReducers)({login:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/GET_TOKEN":return n.merge({token:t.token,kingUuid:t.kingUuid,angelUuid:t.angelUuid,isWish:t.isWish,myUuid:t.myUuid});case"login/FINISH_WRITE":return n.set("isWish",t.isWish);default:return n}},home:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.ADD_MY_TASK:return n.merge({angelWork:t.angelWork,kingWork:t.kingWork});case a.GET_INFO:return n.merge({king:t.result.king,photo:t.result.photo,angelWish:t.angelWish});case a.GET_TASK_AREA:return n.merge({nowWork:t.role,showTask:t.showTask});case a.CLOSE_TASK_AREA:return n.merge({showTask:t.showTask});case a.START_CHAT:return n.merge({comeChat:!0});case a.QUIT_CHAT:return n.merge({comeChat:!1});case a.TO_DO_WORK:return"king"===t.role?n.merge({kingWork:!1}):n.merge({angelWork:!1});default:return n}}}),dt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ct.c,pt=Object(ct.d)(lt,dt(Object(ct.a)(st.a))),ht=function(n){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,n),Object(d.a)(t,[{key:"render",value:function(){return c.a.createElement(v.a,{store:pt},c.a.createElement(f.a,null,c.a.createElement("div",null,c.a.createElement(m.a,{path:"/",exact:!0,component:Hn}),c.a.createElement(m.a,{path:"/login",exact:!0,component:ot}))))}}]),t}(o.Component);u.a.render(c.a.createElement(ht,null),document.getElementById("root"))},67:function(n,t,e){},74:function(n,t){n.exports="data:image/png;base64,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"},79:function(n,t,e){n.exports=e(150)}},[[79,2,1]]]);
//# sourceMappingURL=main.5c478036.chunk.js.map